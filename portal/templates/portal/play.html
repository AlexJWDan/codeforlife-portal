{% extends 'portal/base.html' %}
{% load staticfiles %}

{% block scripts %}
{{ block.super }}
<script type="text/javascript" src='{% static "portal/js/play.js" %}'></script>
<script type="text/javascript" src="{% static 'portal/js/passwordStrength.js' %}"></script>
<script>
var PASSWORD_FIELD_ID = '{{ signup_form.password.auto_id }}';
var PASSWORD_TYPE = 'STUDENT';
var SOLO_VIEW = {% if solo_view %}true{% else %}false{% endif %};
var SIGNUP_VIEW = {% if signup_view %}true{% else %}false{% endif %};
</script>
{% endblock scripts %}

{% block content %}
{{block.super}}

<div class="warningIE">In order to play, please <a href="http://browsehappy.com/">update your browser</a></div>

<div class="section group">
    <div class="col span_2_of_3">
        <h3>Play</h3>
        <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed metus nibh, accumsan et fringilla eu, dapibus in dui. Proin leo est, varius non vestibulum et, tempor vitae nulla. Etiam ut nisl nec mauris elementum vestibulum. 
        </p>

        <p>
        <a href="{% url 'game.views.levels' %}" class="btn">Play now</a>
        </p>

        <h3>Student Resources</h3>
        <ul class="resources">
            <li>KS1 Resource</li>
            <li>KS2 Resource</li>
            <li>Unplugged activity sheets</li>
            <li>Command cards</li>
            <li>Scenario starters using the app characters for the ‘Create your own maze/game’</li>
        </ul>

        <br>

        <div class="gameBox">
            <div class="splash">
                <h3>Coming soon</h3>

                <ul class="clock">
                    <li class="days">
                        <span class="ten">3</span>
                        <span class="unit">0</span>
                        <em>Days</em>
                    </li>
                    <li class="hours">
                        <span class="ten">0</span>
                        <span class="unit">8</span>
                        <em>Hours</em>
                    </li>
                    <li class="mins">
                        <span class="ten">4</span>
                        <span class="unit">8</span>
                        <em>Mins</em>
                    </li>
                    <li class="secs">
                        <span class="ten">4</span>
                        <span class="unit">6</span>
                        <em>Secs</em>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="col span_1_of_3">
        <div id="school-login" class="login-card">
            <h3>School student sign in</h3><br>

            <p>Signed up indiviudally? <a href='#' id='switchToSolo'>Click here</a> to sign in.</p>
            <form method='post'>

                {% csrf_token %}

                {{ school_login_form.non_field_errors }}

                {% for field in school_login_form %}
                    {{ field.errors }}
                    <label class="ieLabels">{{ field.html_name }}</label>
                    {{ field }}
                {% endfor %}

                <input type='submit' name='school_login' class="btn wide" value='Log in'/>
            </form>
        </div>

        <div id="solo-login" class="login-card">
            <h3>Individual sign in</h3><br>

            <p>Part of a school? <a href='#'  id='switchToSchool'>Click here</a> to sign in.</p>

            <form method='post'>

                {% csrf_token %}

                {{ solo_login_form.non_field_errors }}

                {% for field in solo_login_form %}
                    {{ field.errors }}
                    <label class="ieLabels">{{ field.html_name }}</label>
                    {{ field }}
                {% endfor %}

                <input type='submit' name='solo_login' class="btn wide" value='Log in'/>
            </form>

            <div class="login-help">
                <a href="{% url 'portal.views.student_password_reset' %}">Forgotten Password?</a>
            </div>
        </div>

        <br>

        <div id="signup" class="login-card">
            <h3>Register to track your performance</h3><br>

            <p id='signup-warning' >If you're not part of a school who is signed up to Code for Life, <a href='#' id='signupShow'>click here</a> to sign up.</p>

            <form id="signup-form" method='post'>

                {% csrf_token %}

                {{ signup_form.non_field_errors }}

                {{ signup_form.name.errors }}
                <label class="ieLabels">{{ signup_form.name.html_name }}</label>
                {{ signup_form.name }}

                {{ signup_form.username.errors }}
                <label class="ieLabels">{{ signup_form.username.html_name }}</label>
                {{ signup_form.username }}

                {{ signup_form.email.errors }}
                <label class="ieLabels">{{ signup_form.email.html_name }}</label>
                {{ signup_form.email }}

                <div class='section group'>
                    <div class='col span_2_of_3 password-strength-bar-container'>
                        <div class='password-strength-bar'></div>
                    </div>
                    <div class='col span_1_of_3 password-strength-text'></div>
                </div>

                {{ signup_form.password.errors }}
                <label class="ieLabels">{{ signup_form.password.html_name }}</label>
                {{ signup_form.password }}

                {{ signup_form.confirm_password.errors }}
                <label class="ieLabels">{{ signup_form.confirm_password.html_name }}</label>
                {{ signup_form.confirm_password }}

                <input type='submit' name='signup' class="btn wide" value='Register'/>
            </form>
        </div>
    </div>
</div>

{% endblock content %}
